<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #cv {
            border: 1px solid green;
            box-shadow: 5px 5px 10px green;
        }
        #vv{
            border: 1px solid green;
            box-shadow: 5px 5px 10px green;
            position:absolute;
            left:350px;
            top:200px;
        }
    </style>
</head>

<body>
    <canvas id="cv" width="500" height="500"></canvas>
    <!-- <canvas id="vv" width="60" height="60"></canvas> -->
</body>
<script>
    var cv = document.getElementById('cv');
    var ctx = cv.getContext('2d');
    var d = Math.PI / 180;
    var start = 30;
    var lock = true;

    setInterval(function () {
        cv.width = cv.width;
        // 先绘制表盘
        ctx.beginPath();
        ctx.arc(250, 250, 250, 0, 360 * d);
        ctx.stroke();

        // 绘制刻度
        for (var i = 0; i < 60; i++) {
            ctx.beginPath();
            ctx.moveTo(250, 250);
            ctx.arc(250, 250, 250, i * 6 * d, i * 6 * d);
            ctx.stroke();
        }
        ctx.beginPath();
        ctx.arc(250, 250, 240, 0, 360 * d);
        ctx.fillStyle = '#fff';
        ctx.fill();

        for (var i = 0; i < 12; i++) {
            ctx.beginPath();
            ctx.moveTo(250, 250);
            ctx.arc(250, 250, 250, i * 30 * d, i * 30 * d);
            ctx.lineWidth = 5;
            ctx.stroke();
        }
        // 
        ctx.beginPath();
        ctx.arc(250, 250, 230, 0, 360 * d);
        ctx.fillStyle = '#fff';
        ctx.fill();

        if(lock){
            start--;
        }else{
            start++;
        }
        if(start <= 1 || start>=30){
            lock = !lock;
        }
        // 赤豆
        ctx.beginPath();
        ctx.moveTo(250,250);
        ctx.arc(250,250,80,start*d,-start*d);
        ctx.closePath();
        // ctx.stroke();
        ctx.fillStyle = 'yellow';
        ctx.fill();
        ctx.beginPath();
        ctx.arc(250,200,20,0,360*d);
        ctx.fillStyle = '#000';
        ctx.fill();

        // 
        var date = new Date();
        var h = date.getHours();
        var m = date.getMinutes();
        var s = date.getSeconds();

        var sd = s * d * 6 - 90 * d;
        var md = m * d * 6 + s / 60 * 6 * d - 90 * d;
        var hd = h * 30 * d + m / 60 * 30 * d - 90 * d;

        // 时针
        ctx.beginPath();
        ctx.moveTo(250, 250);
        ctx.arc(250, 250, 120, hd, hd);
        ctx.lineWidth = 8;
        ctx.stroke();
        // 分针
        ctx.beginPath();
        ctx.moveTo(250, 250);
        ctx.arc(250, 250, 150, md, md);
        ctx.lineWidth = 4;
        ctx.stroke();
        // 秒针
        ctx.beginPath();
        ctx.moveTo(250, 250);
        ctx.arc(250, 250, 180, sd, sd);
        ctx.lineWidth = 2;
        ctx.strokeStyle = 'red';
        ctx.stroke();

        ctx.beginPath();
        ctx.arc(250, 250, 10, 0, 360 * d);
        ctx.fillStyle = '#000';
        ctx.fill();
    }, 30)

    // var vv = document.getElementById('vv');
    // var cc = vv.getContext('2d');
    // var lock = true;
    // var start = 30;
   
    // setInterval(function () {
    //     vv.width = vv.width;
    //     if(lock){
    //         start--;
    //     }else{
    //         start++;
    //     }
    //     if(start <= 1 || start>=30){
    //         lock = !lock;
    //     }
    //     // 脑袋
    //     cc.beginPath();
    //     cc.moveTo(375, 125);
    //     cc.arc(375, 125, 30, start * d, -start * d, false);
    //     cc.closePath();
    //     cc.fillStyle = 'yellow';
    //     cc.strokeStyle = '#000';
    //     cc.stroke();
    //     cc.fill();
    //     // 眼睛
    //     cc.beginPath();
    //     cc.arc(380, 110, 3, 0, 360 * d);
    //     cc.fillStyle = '#000';
    //     cc.fill();
    // }, 25)
</script>

</html>